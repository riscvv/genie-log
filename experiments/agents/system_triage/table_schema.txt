-- Define All Tables and their schema
CREATE TABLE IF NOT EXISTS log_templates (
    EventId VARCHAR(8) PRIMARY KEY,
    EventTemplate TEXT NOT NULL,
    Occurrences INTEGER NOT NULL
);

CREATE TABLE IF NOT EXISTS log_normal (
    LineId INTEGER PRIMARY KEY,
    Logrecord VARCHAR(255) NOT NULL,
    Date DATE NOT NULL,
    Time TIME(6) NOT NULL,
    Pid INTEGER NOT NULL,
    Level VARCHAR(10) NOT NULL,
    Component VARCHAR(255) NOT NULL,
    ADDR TEXT NOT NULL,
    Content TEXT NOT NULL,
    EventId VARCHAR(8) NOT NULL,
    EventTemplate TEXT NOT NULL,
    ParameterList TEXT[] NOT NULL,
    FOREIGN KEY (EventId) REFERENCES log_templates(EventId)
);

CREATE TABLE IF NOT EXISTS log_abnormal (
    LineId INTEGER PRIMARY KEY,
    Logrecord VARCHAR(255) NOT NULL,
    Date DATE NOT NULL,
    Time TIME(6) NOT NULL,
    Pid INTEGER NOT NULL,
    Level VARCHAR(10) NOT NULL,
    Component VARCHAR(255) NOT NULL,
    ADDR TEXT NOT NULL,
    Content TEXT NOT NULL,
    EventId VARCHAR(8) NOT NULL,
    EventTemplate TEXT NOT NULL,
    ParameterList TEXT[] NOT NULL,
    FOREIGN KEY (EventId) REFERENCES log_templates(EventId)
);